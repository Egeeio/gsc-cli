// Generated by CoffeeScript 2.4.1
(function() {
  var BootstrapCommand, Chalk, Command, GameServer, exec, execSync, flags, fs;

  fs = require("fs").promises;

  Chalk = require("chalk");

  GameServer = require("../server_builder");

  ({Command, flags} = require('@oclif/command'));

  ({execSync, exec} = require('child_process'));

  BootstrapCommand = class BootstrapCommand extends Command {
    async run() {
      var configFiles, file, i, len, nameReplace, results, srcPath;
      srcPath = `/home/${process.env.USER}/.local/gsd-cli`;
      execSync(`rm -rf ${srcPath}`);
      execSync(`git clone https://github.com/Egeeio/gsd-cli.git ${srcPath}`);
      configFiles = (await fs.readdir(`${srcPath}/configs`));
      nameReplace = function(file) {
        return exec(`sed -i "s/travis/${process.env.USER}/" ${srcPath}/configs/${file}`);
      };
      results = [];
      for (i = 0, len = configFiles.length; i < len; i++) {
        file = configFiles[i];
        results.push(nameReplace(file));
      }
      return results;
    }

  };

  // configFiles.forEach (file) -> nameReplace(file)
  BootstrapCommand.description = "Bootstrap some game config files";

  module.exports = BootstrapCommand;

}).call(this);

//# sourceMappingURL=bootstrap.js.map
