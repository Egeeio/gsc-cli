{
  "version": 3,
  "file": "srcds.js",
  "sourceRoot": "../..",
  "sources": [
    "src/games/srcds.coffee"
  ],
  "names": [],
  "mappings": ";AAAA;AAAA,MAAA,aAAA,EAAA,WAAA,EAAA;;EAAA,aAAA,GAAkB,OAAA,CAAQ,WAAR;;EAClB,CAAA,CAAE,QAAF,CAAA,GAAkB,OAAA,CAAQ,eAAR,CAAlB;;EAEM,cAAN,MAAA,YAAA,QAA0B,cAA1B;IACY,OAAT,OAAS,CAAC,KAAD,CAAA;AACR,UAAA,WAAA,EAAA;WADD,CAAA,OACC,CAAM,KAAN;MACA,UAAA,GAAa,CAAA,OAAA,CAAA,CAAU,KAAK,CAAC,MAAM,CAAC,aAAvB,EAAA,CAAA,CAAwC,KAAK,CAAC,MAAM,CAAC,aAArD,CAAA;MACb,WAAA,GAAc,CAAA,SAAA,CAAA,CAAY,UAAZ,CAAuB,oBAAvB,CAAA,CAA6C,KAAK,CAAC,IAAnD,CAAwD,aAAxD,CAAA,CAAuE,KAAK,CAAC,MAAM,CAAC,KAApF,CAA0F,eAA1F;MACd,IAA6B,KAAK,CAAC,MAAN,KAAgB,IAA7C;QAAA,QAAA,CAAS,WAAT,EAAA;;MAEA,IAAI,CAAC,cAAL,CAAoB,KAApB;MACA,IAAI,CAAC,kBAAL,CAAwB,KAAxB;aACA,IAAI,CAAC,aAAL,CAAmB,KAAnB;IARQ;;IASO,OAAhB,cAAgB,CAAC,KAAD,CAAA;kBAAhB,CAAA,cACC,CAAM,KAAN;IADe;;IAEI,OAApB,kBAAoB,CAAC,KAAD,CAAA;AACnB,UAAA;MAAA,kBAAA,GAAqB,CAAA,2BAAA,CAAA,CAGK,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAHvB,CAG4B,MAH5B,CAAA,CAII,KAAK,CAAC,MAAM,CAAC,UAJjB,CAI4B,aAJ5B,CAAA,CAKW,KAAK,CAAC,MAAM,CAAC,OALxB,EAAA,CAAA,CAMD,KAAK,CAAC,MAAM,CAAC,WANZ,CAMwB,8BANxB,CAAA,CAQgB,KAAK,CAAC,IARtB,CAQ2B,CAR3B,CAAA,CAQ8B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IARhD,CAQqD,YARrD;kBADtB,CAAA,kBAWC,CAAM,KAAN,EAAa,kBAAb;IAXmB;;IAYL,OAAf,aAAe,CAAC,KAAD,CAAA;MACd,QAAA,CAAS,CAAA,SAAA,CAAA,CAAY,KAAK,CAAC,IAAlB,CAAuB,CAAvB,CAAA,CAA0B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAA5C,CAAA,CAAT;aACA,QAAA,CAAS,CAAA,MAAA,CAAA,CAAS,KAAK,CAAC,IAAf,CAAoB,CAApB,CAAA,CAAuB,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAzC,CAA8C,YAA9C,CAAT;IAFc;;IAGH,OAAZ,UAAY,CAAC,IAAD,CAAA;MACX,QAAA,CAAS,CAAA,MAAA,CAAA,CAAS,IAAT,CAAA,CAAT;MACA,QAAA,CAAS,CAAA,MAAA,CAAA,CAAS,IAAT,CAAc,OAAd,CAAT;aACA,QAAA,CAAS,CAAA,GAAA,CAAA,CAAM,IAAN,EAAA,CAAA,CAAc,IAAd,CAAmB,OAAnB,CAAT;IAHW;;EA3Bf;;EA+BA,MAAM,CAAC,OAAP,GAAiB;AAlCjB",
  "sourcesContent": [
    "GenericServer   = require(\"./generic\")\n{ execSync }    = require(\"child_process\")\n\nclass SrcdsServer extends GenericServer\n  @install: (flags) ->\n    super(flags)\n    steamLogin = \"+login #{flags.config.steamUserName} #{flags.config.steamPassword}\"\n    install_cmd = \"steamcmd #{steamLogin} +force_install_dir #{flags.path} +app_update #{flags.config.appId} validate +quit\"\n    execSync(install_cmd) unless flags.dryrun == true\n\n    this.createUnitFile(flags)\n    this.createLaunchScript(flags)\n    this.createLogFile(flags)\n  @createUnitFile: (flags) ->\n    super(flags)\n  @createLaunchScript: (flags) ->\n    launchFileContents = \"\"\"\n                      ./srcds_run \\\n                      -console \\\n                      -game #{flags.config.meta.game} \\\n                      +map #{flags.config.defaultMap} \\\n                      +maxplayers #{flags.config.players} \\\n                      #{flags.config.srcdsParams} \\\n                      -condebug & \\\n                      /usr/bin/tail -f #{flags.path}/#{flags.config.meta.game}/console.log\n                        \"\"\"\n    super(flags, launchFileContents)\n  @createLogFile: (flags) ->\n    execSync(\"mkdir -p #{flags.path}/#{flags.config.meta.game}\")\n    execSync(\"touch #{flags.path}/#{flags.config.meta.game}/console.log\")\n  @backupFile: (file) ->\n    execSync(\"touch #{file}\")\n    execSync(\"rm -f #{file}.backup\")\n    execSync(\"mv #{file} #{file}.backup\")\nmodule.exports = SrcdsServer\n"
  ]
}