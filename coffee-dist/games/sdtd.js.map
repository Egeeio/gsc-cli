{
  "version": 3,
  "file": "sdtd.js",
  "sourceRoot": "../..",
  "sources": [
    "src/games/sdtd.coffee"
  ],
  "names": [],
  "mappings": ";AAAA;AAAA,MAAA,aAAA,EAAA,UAAA,EAAA;;EAAA,aAAA,GAAkB,OAAA,CAAQ,WAAR;;EAClB,CAAA,CAAE,QAAF,CAAA,GAAkB,OAAA,CAAQ,eAAR,CAAlB;;EAEM,aAAN,MAAA,WAAA,QAAyB,cAAzB;IACY,OAAT,OAAS,CAAC,KAAD,CAAA;AACR,UAAA,WAAA,EAAA;WADD,CAAA,OACC,CAAM,KAAN;MACA,UAAA,GAAa,CAAA,OAAA,CAAA,CAAU,KAAK,CAAC,MAAM,CAAC,aAAvB,EAAA,CAAA,CAAwC,KAAK,CAAC,MAAM,CAAC,aAArD,CAAA;MACb,WAAA,GAAc,CAAA,SAAA,CAAA,CAAY,UAAZ,CAAuB,oBAAvB,CAAA,CAA6C,KAAK,CAAC,IAAnD,CAAwD,aAAxD,CAAA,CAAuE,KAAK,CAAC,MAAM,CAAC,KAApF,CAA0F,eAA1F;MACd,IAA6B,KAAK,CAAC,MAAN,KAAgB,IAA7C;QAAA,QAAA,CAAS,WAAT,EAAA;;MAEA,IAAI,CAAC,cAAL,CAAoB,KAApB;MACA,IAAI,CAAC,kBAAL,CAAwB,KAAxB;aACA,IAAI,CAAC,aAAL,CAAmB,KAAnB;IARQ;;IASO,OAAhB,cAAgB,CAAC,KAAD,CAAA;kBAAhB,CAAA,cACC,CAAM,KAAN;IADe;;IAEI,OAApB,kBAAoB,CAAC,KAAD,CAAA;AAEnB,UAAA,kBAAA;;MAAA,kBAAA,GAAqB,CAAA,0BAAA,CAAA,CAEC,KAAK,CAAC,IAFP,CAEY,kCAFZ,CAAA,CAGU,KAAK,CAAC,IAHhB,CAGqB,iEAHrB,CAAA,CAQa,KAAK,CAAC,IARnB,CAQwB,qCARxB,CAAA,CASkB,KAAK,CAAC,IATxB,CAS6B,YAT7B;kBAFtB,CAAA,kBAaC,CAAM,KAAN,EAAa,kBAAb;IAbmB;;IAcL,OAAf,aAAe,CAAC,KAAD,CAAA;aACd,QAAA,CAAS,CAAA,MAAA,CAAA,CAAS,KAAK,CAAC,IAAf,CAAoB,YAApB,CAAT;IADc;;IAEH,OAAZ,UAAY,CAAC,IAAD,CAAA;MACX,QAAA,CAAS,CAAA,MAAA,CAAA,CAAS,IAAT,CAAA,CAAT;MACA,QAAA,CAAS,CAAA,MAAA,CAAA,CAAS,IAAT,CAAc,OAAd,CAAT;aACA,QAAA,CAAS,CAAA,GAAA,CAAA,CAAM,IAAN,EAAA,CAAA,CAAc,IAAd,CAAmB,OAAnB,CAAT;IAHW;;EA5Bf;;EAiCA,MAAM,CAAC,OAAP,GAAiB;AApCjB",
  "sourcesContent": [
    "GenericServer   = require(\"./generic\")\n{ execSync }    = require(\"child_process\")\n\nclass SdtdServer extends GenericServer\n  @install: (flags) ->\n    super(flags)\n    steamLogin = \"+login #{flags.config.steamUserName} #{flags.config.steamPassword}\"\n    install_cmd = \"steamcmd #{steamLogin} +force_install_dir #{flags.path} +app_update #{flags.config.appId} validate +quit\"\n    execSync(install_cmd) unless flags.dryrun == true\n\n    this.createUnitFile(flags)\n    this.createLaunchScript(flags)\n    this.createLogFile(flags)\n  @createUnitFile: (flags) ->\n    super(flags)\n  @createLaunchScript: (flags) ->\n    ## Because of the export LD_LIBRARY_PATH bullshit, this is way more work than it looks\n    launchFileContents = \"\"\"\n                        export LD_LIBRARY_PATH=.\n                        #{flags.path}/7DaysToDieServer.x86_64 \\\n                        -logfile #{flags.path}/console.log \\\n                        -quit \\\n                        -batchmode \\\n                        -nographics \\\n                        -dedicated \\\n                        -configfile=#{flags.path}/serverconfig.xml & \\\n                        /usr/bin/tail -f #{flags.path}/console.log\n                        \"\"\"\n    super(flags, launchFileContents)\n  @createLogFile: (flags) ->\n    execSync(\"touch #{flags.path}/console.log\")\n  @backupFile: (file) ->\n    execSync(\"touch #{file}\")\n    execSync(\"rm -f #{file}.backup\")\n    execSync(\"mv #{file} #{file}.backup\")\n\nmodule.exports = SdtdServer\n"
  ]
}